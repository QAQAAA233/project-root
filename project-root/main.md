代碼請在畫布中展示：資料結構與演算法視覺化教學專案計畫

專案概述

本專案旨在建立一個資料結構與演算法視覺化教學平台，整合課堂筆記內容與現有的動畫風格，以互動式動畫來輔助教學。專案將涵蓋多個資料結構與演算法主題，每個主題皆提供圖形化演示、程式碼範例以及執行流程說明，幫助學習者透過視覺化理解抽象概念。介面採用繁體中文並在必要處附上英文術語，中英對照以確保專業名詞清楚易懂。整體設計以模組化方式進行，使未來可以方便地新增或移除教學單元。

專案設計原則

**使用通用網頁技術：**整個專案以 HTML、CSS、JavaScript 開發，方便在 VSCode 等環境中直接開啟、編輯與執行。無需特殊伺服器環境，透過 VSCode 的 Live Server 或瀏覽器即可體驗教學內容。

模組化知識單元：各個資料結構與演算法知識點皆獨立成模組，例如遞迴 (Recursion)、陣列 (Array)、堆疊 (Stack)、佇列 (Queue)、鏈結串列 (Linked List)、河內塔 (Tower of Hanoi)、複雜度分析 (Complexity Analysis)、運算式轉換 (Expression Conversion) 等。每一模組都有獨立的檔案或類別來封裝其內容與功能，但不會過度細分到影響維護。這樣的設計讓程式碼結構清晰，各模組之間耦合度低，後續要新增或移除特定教學主題時非常便利。

主介面選單導向：提供一個主控介面，包含清晰的選單或導覽列列出所有可用的教學模組。使用者可以透過選單即時切換不同模組，主介面會根據選擇載入對應的視覺化內容。選單設計強調易用性，選項以中文呈現並附英文縮寫或名稱，例如「堆疊 (Stack)」、「佇列 (Queue)」等，方便使用者快速找到想學習的主題。 
 
**擴充維護便利：**模組化結構允許開發者輕鬆地擴充功能。主介面與模組之間透過統一的介面溝通（例如每個模組都有init()、play()、pause()等方法），當需要加入新模組時，只需撰寫相應檔案並在主選單註冊即可。相反地，移除模組也不影響其他部分。程式碼風格和檔案組織將保持一致，以利團隊協作與後續維護。

介面與動畫優化

**延續現有動畫風格：**本專案將延用既有範例檔案 X.html 中的動畫風格，採用 Three.js 進行3D繪圖，並結合 GSAP 做動畫控制。整體美術風格與配色保持一致（例如深色背景、鮮明對比的線條和節點顏色），讓各模組在視覺上具有統一性。同時，我們將進一步優化細節，使動畫對教學更友好：

**文字清晰不切割：**針對節點上附加的小球文字（通常以中文標示資料或節點名稱），確保使用適當的渲染技術以避免文字被裁切。可能的作法是使用平面貼圖顯示文字或調整文字的大小和位置，使其完全呈現在球體表面。例如，使用 Three.js 的 CanvasTexture 將文字繪製成紋理貼在精靈(Sprite)或平面上，確保中文字體清晰可讀。

**目前處理節點放大：**在動畫過程中，高亮目前正在處理的節點或資料。例如對正在訪問的陣列元素、正在出入堆疊的元素或遞迴調用中的當前節點，以放大效果或顏色強調來表示【目前重點】。這可以透過調整 Three.js 中物件的縮放(scale)或材質顏色來達成，讓學習者一眼辨識演算法執行到哪一步。

動畫節奏自然：調整 GSAP 動畫的速度和延遲，使各步驟銜接順暢且有適當停留時間供觀察。預設動畫速度將經過教學現場測試，以確保對一般學習者而言不會過快或過慢。甚至提供速度切換選項（慢、適中、快），對應不同學習需求。另外，動畫過程中加入適度的緩動效果(easing)，讓物件移動和轉換更平滑自然，避免生硬跳躍。

**豐富的控制選項：**為了提升互動性，每個模組皆提供一組控制功能，使用者可自主掌握動畫播放：

**動畫開關：**允許使用者暫停或繼續動畫。當關閉動畫時，可以直接顯示運行結果或一步到位的狀態；重新開啟時再從當前狀態繼續動畫效果。這對需要細看某一靜態狀態的情況很有幫助。

**手動步進執行：**提供「下一步」(Step)按鈕，使用者可以手動控制演算法一步步執行。每點擊一次，動畫前進一小步（例如一次節點處理或一次遞迴呼叫），這有助於學習者仔細觀察每個細節步驟而不被自動動畫節奏帶著走。

**重播功能：**提供「重播」或「重置」按鈕，一鍵將當前模組的狀態重設並重新播放動畫。方便使用者在看完一輪動畫後重複觀摩，或在中途改變參數後重新開始演示。

**模組隱藏/顯示：**允許將整個模組的視覺化區域隱藏或再次顯示。這可透過主介面的控制台按鈕或各模組自己的浮動控制面板來切換。隱藏模組時，場景渲染暫停或淡出，讓使用者可以回到主選單選擇其他主題或查閱文字說明；再次顯示時，模組恢復之前的狀態或重播。此功能確保多個模組之間切換平順，也讓介面更靈活（例如同時開啟兩個模組進行比較，或暫時收起某個模組畫面以查看其他資訊）。

功能修正與擴充

遞迴模組修正：針對遞迴 (Recursion) 模組中連線不準的問題進行修正。此前可能在繪製遞迴呼叫樹時，節點之間的連線對不準正確的父子位置，我們將重新計算並繪製連結線的位置，使每條連線精確連結對應的節點。例如，在費氏數列遞迴樹中，每個遞迴呼叫節點以線條連結到產生它的上一層節點，以清楚表示遞迴關係。同時也會調整線條的樣式（例如顏色或粗細）提高可見度。

複雜度模組修正：在複雜度分析 (Complexity Analysis) 模組中修正節點連接錯誤問題。此模組可能使用圖表或曲線來表示輸入規模與演算法運行時間/次數的關係（例如 O(n)、O(n^2) 曲線比較）。我們將確保資料點之間的連線正確（避免連錯順序或資料集），並修復任何繪圖邏輯上的錯誤。此外，將加大 XY 軸標籤字體，使圖表的橫軸、縱軸說明（如「輸入大小 n」和「操作次數」等）在教學展示時清晰可讀，避免先前字體過小影響觀察。

浮動視窗系統：為了豐富教學內容，每個模組都會引入浮動視窗系統，用於展示輔助資訊：

程式碼視窗：顯示目前模組對應的演算法程式碼或虛擬碼。這將包含對應主題的中英對照註解，例如在遞迴模組中顯示費式數列或階乘的遞迴程式碼片段，在運算式轉換模組中顯示中序轉後序演算法步驟。程式碼會隨著動畫步調高亮目前執行的行，增強程式執行流程與動畫的同步性。

**記憶體結構視窗：**動態展示資料在記憶體中的表示或結構狀態。例如，在陣列模組中顯示記憶體中的連續配置情形（包含索引和位址計算公式）、在鏈結串列模組中顯示節點指標的記憶體位址關係，或在遞迴模組中顯示呼叫堆疊(Stack)內容。透過圖示或表格方式，即時更新記憶體視圖，幫助學習者理解底層運作。

**執行流程視窗：**文字化地描述演算法當前所處的步驟或狀態。例如：「將運算元推入堆疊」「移動盤片從柱A到柱B」等操作敘述。這視窗相當於逐步講解，搭配動畫方便對照理解。執行流程也可以記錄每一步驟的重點，在重播或步進時跟隨更新。

這些浮動視窗都具有可拖曳、縮放、關閉的功能。使用者可以按需開啟一個或多個視窗，拖動到不妨礙觀看主動畫的位置，並調整大小以完整閱讀內容。視窗提供標題列以顯示資訊類型（例如「程式碼 Code」「記憶體 Memory」「流程 Flow」），右上角有關閉按鈕，關閉後可由主介面重新開啟。透過這種視窗化設計，可將輔助資訊與主動畫有效結合又彼此獨立，讓介面保持整潔且富彈性。

語言與教學性考量

**繁體中文介面：**整個使用者介面以繁體中文呈現，符合本地教學需求。所有按鈕、選單、說明文字等皆使用中文，使學生直觀理解功能。例外情況是專有名詞以及程式碼內容，我們會同時提供英文對照，以培養學生中英文雙語理解能力。例如按鈕可能標示「下一步 (Next)」、「重播 (Replay)」，模組名稱標示「佇列 (Queue)」、「堆疊 (Stack)」等。

**中英對照的專有名詞：**對於資料結構與演算法的術語，在介面首次出現時我們將採用「中文（English）」格式標示，如「鏈結串列 (Linked List)」、「河內塔 (Tower of Hanoi)」。在程式碼視窗中的註解也會使用中英雙語說明關鍵步驟與名詞。例如：「// 將節點插入尾端 (Append node to end of list)」。此做法可確保學生了解中文名詞的同時，熟悉其英文對應，為將來閱讀英文技術資料做好準備。

教學導向介面：所有設計決策都圍繞教學易用性。介面佈局簡潔明瞭，各模組的控制按鈕位置固定且樣式一致（例如皆置於畫面下方控制區），使用顏色或圖示提示功能。動畫中關鍵的一步會暫停片刻並高亮，可能還會有箭頭或圈選提示，確保學生注意力集中在該處。再配合浮動說明視窗的文字講解，達到圖文並茂的效果。整體而言，系統將扮演虛擬教學助手的角色，自動展示演算法運作，同時以中文解說輔助，在人不介入的情況下學生也能自主學習。

檔案架構與功能說明

專案採用分目錄的檔案組織方式，將主介面、模組腳本、以及外部資源區分開來。以下是完整的檔案架構與各檔案的功能說明：

plaintext

複製

project-root/                # 專案根目錄

├─ index.html               # 主介面HTML檔案，載入選單和各模組

├─ style.css                # 全域樣式定義，控制整體外觀

├─ main.js                  # 主控制腳本，處理選單導航與模組載入

├─ floatingWindow.js         # 浮動視窗系統腳本，提供拖曳/縮放功能

├─ modules/                 # 教學模組腳本目錄（每個主題一個檔案）

│  ├─ recursion.js          # 遞迴模組：費氏數列、階乘等遞迴動畫展示

│  ├─ arrays.js             # 陣列模組：陣列記憶體布局與位址計算展示

│  ├─ stack.js              # 堆疊模組：堆疊的推入、彈出操作動畫

│  ├─ queue.js              # 佇列模組：佇列的入列、出列操作動畫

│  ├─ linkedlist.js         # 鏈結串列模組：節點插入、刪除及指標連結動畫

│  ├─ hanoi.js              # 河內塔模組：河內塔遞迴解法視覺化

│  ├─ complexity.js         # 複雜度分析模組：不同演算法複雜度曲線展示

│  └─ expression.js         # 運算式轉換模組：中序轉前/後序的過程動畫

└─ lib/                     # 外部函式庫與資源

   ├─ three.min.js          # Three.js 3D 繪圖庫

   └─ gsap.min.js           # GSAP 動畫庫（可視需要亦可使用 CDN 引入）

主架構與共用檔案

**index.html：主介面 HTML 檔案。**負責構建整體介面框架，包括標題、導覽選單、控制面板和內容顯示區等。在<head>中載入所需的 CSS 和腳本（如 Three.js、GSAP 以及本專案的 main.js 等），<body>內含主選單（列出各模組名稱的按鈕或清單）和一個主要容器元素（例如<div id="moduleContainer">）供模組內容呈現。使用者開啟頁面時將首先看到此介面，並可以在此選擇各個教學主題。

**style.css：全域樣式表。**定義專案中公用的 CSS 樣式，包括主頁面的版面配置和各UI元件的風格。例如選單按鈕的外觀（大小、綠色主題色系邊框【對應 X.html 的配色】）、控制區面板位置（固定在底部並可收合）、字型設定（使用「微軟正黑體」或相容字型以確保中文顯示良好）等。也包含浮動視窗的樣式，如視窗背景半透明黑色、標題列樣式、拖曳區指標樣式等，使各模組的外觀和操作體驗保持一致。

**main.js：主控制腳本。**這是整個應用的核心協調者。主要功能包括：

**模組載入與切換：**監聽主選單的點擊事件，根據使用者選擇決定載入哪一個模組。可以使用動態import或預先載入所有模組腳本的方式。當切換時，會清理先前模組的場景（例如移除 Three.js 所創建的物件或卸載事件監聽），然後初始化新模組。main.js維護一個currentModule狀態，以追蹤當前顯示的模組，方便執行如隱藏/顯示或暫停等全域指令。

**全域控制監控：**處理主介面上通用控制按鈕的行為，例如「暫停/播放全部動畫」、「顯示/隱藏所有浮動視窗」等。一些控制可能廣域影響所有模組（例如一鍵隱藏模組畫面回到主選單）。

**初始化 Three.js 環境：**如果採用單一 Canvas 共用，main.js負責在載入頁面時創建 Three.js 渲染器、場景和攝影機，以及加入基本的光源、軌道控制等（如 X.html 中的 OrbitControls類）。之後各模組根據需要向場景添加各自的物件。或者每個模組自行建立場景但共用渲染迴圈。main.js也可能負責呼叫animate()在每幀更新場景（如果不將動畫綁在GSAP timeline上單獨控制）。 此外，main.js會與floatingWindow.js協同，提供介面讓各模組能夠開啟對應的浮動資訊視窗。

floatingWindow.js：浮動視窗系統腳本。此檔案定義可重用的浮動視窗元件，供各模組創建顯示程式碼、記憶體、流程等資訊的面板。它可能提供一個FloatingWindow類別，用來生成包含標題列、內容區的<div>元素。主要功能：

**建立與銷毀：**提供函式生成新的視窗，參數包括視窗內容（HTML字串或DOM元素）、標題文字等。生成的視窗預設可拖曳（標題列作為拖曳手柄）和縮放（可能透過右下角拖曳控制）。視窗可附加到document.body上，呈現為最上層浮動元素。

**拖曳與縮放實作：**透過監聽滑鼠事件或觸控事件實現拖曳。按下標題列時記錄初始座標，移動時調整視窗<div>的left,top。縮放可透過在視窗右下角設置一個縮放握把，拖動時調整寬高。這部分程式碼確保操作流暢且不與主場景互動衝突（利用pointer-events調整等）。

**視窗管理：**包括提供關閉按鈕點擊行為（從DOM移除或隱藏視窗）、可能的內容更新方法（例如模組在每一步更新程式碼高亮時，呼叫FloatingWindow實例的方法改變內容）。此外，或許會實作一個將多個視窗資訊集中管理的機制，例如儲存當前開啟的視窗列表，以便在切換模組或全域操作時能一致處理。 此腳本的引用使得各模組不需重複編寫視窗相關邏輯，只需簡單呼叫API生成所需資訊窗即可。

模組檔案

(以下各模組檔案均為 JavaScript 檔，負責特定主題的動畫與互動實現。它們通常會導出一個物件或類別，並具有初始化、重置等方法供 main.js 呼叫。每個模組內部可能使用 Three.js 建立專有的幾何物件和動畫，但遵循全域風格設定。如有需要亦可含少量內嵌CSS或HTML片段以生成特殊的DOM元素（例如模組獨有的控制按鈕）。)

modules/recursion.js：遞迴模組。負責演示遞迴算法的運作機制，示例內容包括費氏數列與階乘計算的遞迴呼叫。此模組初始化時會根據選擇的例子建立遞迴呼叫樹的可視化：每個遞迴函式呼叫做為一個節點（可用小球或圓框表示，節點上標註函式參數與返回值），節點之間以線條連結表示呼叫關係。模組內通過 Three.js 將節點置於3D空間層級排列（例如每層遞迴深入更往下/旁），並使用 GSAP 控制節點出現和連線繪製的動畫。目前處理中的節點將以放大高亮呈現。例如當演算法在計算fib(5)時，對應節點閃爍或放大，同時在程式碼視窗高亮fib(5)的遞迴呼叫行。此模組也修正了連線不準問題：我們重新計算每個節點的位置佈局，使連線的起點終點精確對準父子節點中心。提供控制按鈕讓使用者可切換示範費氏數列或階乘，並調整遞迴深度等參數來觀察不同規模下的遞迴行為。記憶體視窗則會同步顯示呼叫堆疊內容，每次遞迴呼叫push堆疊/return時pop堆疊。

modules/arrays.js：陣列模組。演示一維與多維陣列在記憶體中的儲存方式和位址計算。此模組延續 X.html 中多維陣列動畫的部分。初始化時會建立一個虛擬的記憶體模型，例如使用 Three.js 在3D空間排布一系列小方塊或小球代表連續的記憶體單元，每個單元上顯示索引和儲存的值。使用者可在介面上調整參數（例如陣列維度、一維長度或多維矩陣的行列深度數、基址L₀、元素大小等），介面會即時更新公式顯示。當使用者改變索引下拉選單選取特定元素A(i,j,k)時，模組計算出對應的記憶體位址，並使用動畫高亮該記憶體單元（將代表該地址的方塊顏色變亮並稍微放大）。同時在畫面上方以公式推導步驟顯示位址計算過程（例如行優先存儲時地址公式的各部分替換成實際數值【此部分和 X.html 顯示公式類似】）。小球文字（如顯示索引的文字）將避免被裁切，確保中文字清晰可讀。此模組亦包含多項式表示的延伸展示：例如當選擇「多項式」模式時，展示稀疏多項式如何用陣列儲存（密集陣列與鏈結串列兩種方式的對比）。程式碼視窗會顯示相關的陣列處理或公式計算程式碼，記憶體視窗顯示陣列在連續記憶體中的映射圖。

modules/stack.js：堆疊模組。演示堆疊 (Stack) 資料結構的操作特性，包含先進後出 (LIFO) 的概念。在3D視覺化中，我們將堆疊表示為一組疊放的長方體或圓柱，每個代表一個元素。堆疊頂部(top)明顯標示。使用者可以透過介面的按鈕執行 Push（推入）或 Pop（彈出）操作，每執行一步都伴隨動畫：Push時，一個帶有元素值的方塊從旁邊移動過來並放到堆疊頂端，堆疊高度加一；Pop時，頂端的方塊高亮後移出堆疊並消失或移到旁側。**目前處理元素放大：**當前被推入或彈出的元素會短暫放大以引起注意。模組也會在操作後更新並顯示堆疊內所有元素值。若發生堆疊滿或空的情況，介面會給出中文提示例如「堆疊已滿 (Stack Overflow)」或「堆疊為空 (Stack Underflow)」。程式碼視窗中展示堆疊 Push/Pop 的對應程式碼或流程（如陣列實作的堆疊索引變化），記憶體視窗可選擇顯示陣列實作中堆疊在記憶體陣列中的樣貌。

**modules/queue.js：佇列模組。**演示佇列 (Queue) 的先進先出 (FIFO) 特性。可視化將佇列畫成橫向的一排節點（例如方塊），並用箭頭標示前端(front)與尾端(rear)。執行 Enqueue（入列）操作時，新元素從尾端加入：動畫表現為一個新節點從外部移動並附加到佇列尾端位置；執行 Dequeue（出列）時，移除前端元素：動畫上讓最前面的節點高亮後移出隊伍並消失，其後所有元素向前平移占據空出的位置。若佇列採用環狀陣列實作，還可在記憶體視窗中展示環狀緩衝區模型，front和rear指標如何繞回。使用者介面提供操作按鈕，同時在適當時刻給出「佇列已滿」或「佇列為空」的提示訊息。程式碼視窗顯示 Enqueue/Dequeue 的偽代碼，並用中英註解說明每一步調整 front/rear 指標的過程，幫助理解循序存取的細節。

**modules/linkedlist.js：鏈結串列模組。**演示單向或雙向鏈結串列 (Linked List) 的結構與基本操作。可視化方面，每個節點以帶值的小矩形表示，旁邊連著箭頭（指標）指向下一個節點；尾節點的箭頭指向空(null)。初始時可產生一條預設長度的串列，使用者可以操作例如「插入節點於開頭/末尾」、「刪除節點」等。插入操作動畫：創建新節點小方塊，用虛線框表示將插入位置，然後新節點插入串列，箭頭重繪以連接新節點。刪除操作動畫：目標節點高亮後從串列中移除，前一節點的箭頭改為指向被刪節點的下一個。若是雙向串列則需要同時更新前驅指標方向。**目前處理節點放大：**當前正在插入或刪除的節點以放大顯示並用不同顏色突出。此模組強調指標操作的正確性，箭頭連線在任何更新後都會以順暢動畫移向新位置。程式碼視窗呈現鏈結串列插入刪除的相關程式碼段，記憶體視窗則展示節點在記憶體中的分佈（可簡化表示每個節點地址和指向的下一節點地址）。

**modules/hanoi.js：河內塔模組。**演示經典遞迴問題「河內塔 (Tower of Hanoi)」的求解過程。三根柱子和多個圓盤將以3D形式呈現（例如使用Three.js的圓柱體代表柱子，圓環或圓盤表示盤子）。使用者可設定盤子數量N，模組初始化相應數量的圓盤堆疊在柱子A。開始演示後，會按照遞迴算法計劃自動移動盤子：最小的盤移動最快，大盤移動較慢，以凸顯遞迴分解步驟。每一步移動都伴隨動畫（盤子從一柱子平滑抬起，移動到目標柱子落下）。當前移動的盤子會高亮或閃爍，且在執行流程視窗中以中文描述例如「將第1號盤從 A 移動到 C」等。使用者也可以單步操作，每點下一步執行一個遞迴步驟。由於河內塔解法過程較長，亦提供快進/加速功能。程式碼視窗中顯示河內塔遞迴函式的程式碼，對應步驟高亮（例如移動盤子的函式呼叫），記憶體/狀態視窗可選擇性地表示遞迴呼叫棧或當前柱子與盤子的對應狀態列表。

**modules/complexity.js：複雜度分析模組。**此模組透過互動圖表來展示不同演算法的時間複雜度增長趨勢。進入模組時，建立一個XY平面坐標系（可使用Three.js畫出坐標軸），X軸代表輸入規模n，Y軸代表對應的操作次數或時間。提供若干常見複雜度函數供選擇（例如 O(1), O(n), O(n log n), O(n^2), O(2^n) 等），使用者可勾選一到多個複雜度曲線做比較。一旦選擇，模組用點和線將曲線繪出：點的座標計算基於給定複雜度函數，然後以 GSAP 動畫將點逐一標示出來並連線形成曲線。**修正節點連接錯誤：**確保每個相鄰點之間以直線段相連，不會連錯其他函數的點，也不會出現折線錯位。若之前版本存在資料點順序錯亂，本次亦一併修復。為了視覺清晰，加大XY軸標籤字體及刻度說明，使「輸入大小 (n)」和「操作次數 (Steps)」等標示在投影教學時清晰可見。使用者可以調整n的範圍（例如110或11000）重新生成圖表，以觀察不同範圍下各複雜度曲線的形狀。執行流程/說明視窗將提供對應解說，例如「紅色線為O(n)：呈線性增長」「藍色線為O(n^2)：曲線陡峭，當n增加時增長速度遠超線性」等，幫助將圖形與理論對應。

modules/expression.js：運算式轉換模組。該模組展示中序(Infix) 表達式轉後序(Postfix)以及前序(Prefix)的轉換過程，重點體現堆疊在運算式處理中的應用。介面上有輸入框讓使用者鍵入一個中序算術表達式，以及選擇轉換類型（轉成前序或後序）。點擊開始後，演算法逐字元讀取中序表達式並按規則進行轉換：過程中用一個視覺化的堆疊來暫存運算子。一行字符從輸入表達式依次高亮讀取，如果是運算元(operand)直接輸出到結果，如果是運算子(operator)則根據優先級和堆疊狀態決定壓入或彈出。動畫表現為：當讀到運算元，將該字符以小球或文字方塊形式直接移動到「輸出序列」區域排隊；讀到運算子時，將符號放到堆疊（堆疊以垂直槽表示），若須彈出則將堆疊頂的運算子移到輸出區。括號的處理則會觸發堆疊連續彈出直到遇到匹配的括號。**目前處理的符號放大：**當前讀入的字符以及任何正在從堆疊彈出的運算子都會以放大效果提示。整個轉換過程結束後，結果區域會拼出最後的前序或後序表達式，並與正確答案比對確認。程式碼視窗中顯示對應的轉換算法步驟（如課堂筆記提供的流程圖或偽碼），例如包含「如果讀入運算元則加入輸出、若為運算子則比較優先級…」等條款的程式片段，每當執行到某步驟就高亮。執行流程視窗以簡明中文列出步驟敘述，例如「讀入字元 A，為運算元，直接輸出。讀入 *，為運算子，堆疊為空，推入堆疊…」逐步記錄，讓學生同步閱讀理解演算法的判斷邏輯。

外部資源與函式庫

**Three.js (three.min.js)：**3D 繪圖函式庫，用於建立各模組中的三維場景和物件。透過 Three.js，我們繪製如河內塔的盤與柱、陣列的記憶體格、各種幾何節點與連線等。同時利用其相機(camera)與燈光(light)系統來呈現帶有深度和陰影的視覺效果，使教學動畫更具吸引力。Three.js 將以壓縮後的 three.min.js 引入，可以放在本地 lib/ 資料夾或直接在 index.html 中以 CDN 連結載入。

**GSAP (gsap.min.js)：**綠色貝殼動畫庫，用於控制物件的過場動畫。我們使用 GSAP 的時間軸或Tween功能，讓各模組中的變化（如節點移動、大小改變、顏色淡入淡出）變得平滑，並方便地調整速度和順序。GSAP 具備強大的控制時序能力，例如可以創建序列動畫、反轉動畫，這些都將應用在如步進執行和重播功能中。引入方式與 Three.js 類似，使用壓縮檔放於lib/或透過 CDN。

**其他資源：**若需要還可能包含 math.js 等庫（如 X.html 中所示）用於數學計算或解析，例如在運算式轉換模組中判斷運算子優先級、在複雜度模組中計算函數值。在本專案中，我們如有使用也會將其置於lib/下或CDN引入。此外所有圖片、字型等素材若有需要也會組織在相應資料夾，但目前大部分視覺元素皆由程式即時繪製，無大量靜態資源。

以上即為本教學專案的完整架構與各部分職責說明。透過上述規劃，我們將能開發出一個模組化且互動性強的教學工具，涵蓋多種資料結構與演算法的重點內容，並以一致的動畫風格與清晰的中英對照解說來輔助學習。接下來可進行各檔案的原始碼實作，逐步將此設計轉化為實際可運行的系統。我希望你幫我建立一個完整的資料結構與演算法視覺化專案，整合目前筆記與 X.html 所有功能內容，並保留原版( X.html)的動畫演示風格與穩定性，同時進行下列優化設計：



【一、專案設計原則】

1. 專案需具備良好擴充性，請將每個演示模組功能獨立拆分存檔，但不要拆得太多，最好就分主介面+每個模組一個檔案，並能透過主介面中的控制面板切換演示模組（例如選單切換）。

2. 需實作一個可拖動、可縮放、可關閉（隱藏）的浮動視窗系統（模仿 Window 系統），供此類顯示區塊用：

   - 程式碼展示

   - 記憶體位置

   - 執行結果

3. 所有模組需可模組化新增或移除，利於除錯與日後加入其他資料結構（如圖、堆積樹、AVL Tree 等）。



【二、介面與視覺演示優化】

4. 所有動畫需保有動態展示效果，並符合以下條件：

   - 小球文字大小應參考原始 X.html 版本，避免被 Canvas 切掉或難以辨識。

   - 處理中的節點應自動放大顯示文字（仿行列演示）。

   - 所有動畫速度、節奏、方向需自然、易懂。

   - 提供每個模組的 開關動畫/手動步進執行/重播功能按鈕。

5. 提供每個模組的「隱藏/顯示」控制功能（可從控制面板或浮動面板中呼叫），按鈕風格需一致、美觀。



【三、功能修正】

6. 遞迴模組（費氏數列、階乘）中：

   - 所有連線應正確對準每個小球中心，不偏離。

7. 複雜度分析模組中：

   - 修正所有節點連接線錯誤問題，讓連線準確連結每一個節點。

   - XY 軸標籤與分類標籤請調大文字尺寸，確保可讀性。



【四、檔案組織】

請先列出完整檔案結構與每個檔案功能分配，再提供每個檔案的完整原始碼，注意是pdf中所有知識點都要是一種模組。不要遺漏任何 HTML / JS / CSS 檔案。先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆先給主介面代碼 確保在無模組狀態下 主介面各部位能正常點擊操作與防呆